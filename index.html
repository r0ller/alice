<html>
<body>
    <input type="text" id="userInput"</input>
    <button onclick="test()">Submit</button>
	<script type="text/javascript">
	  var Module = {
		onRuntimeInitialized: function() {
			window.alert('Runtime initialized!');
		}
	  };
		function test()
		{
			var userInput = document.getElementById("userInput").value;
			userInput=userInput+'\n';
			var error = new Uint8Array(1024);
			var perror = Module._malloc(error.length*error.BYTES_PER_ELEMENT);
			var cmd=Module.ccall('hi','string',['string','string','number'],[userInput,'ENG',perror]);
			var jstring = Module.Pointer_stringify(perror);
			var result = cmd || jstring;
			window.alert(result);
			Module._free(perror);
		}
	</script>
	<script type="text/javascript" src="hi_js/hi.js"></script>
</body>
</html>